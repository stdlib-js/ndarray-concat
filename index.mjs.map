{"version":3,"file":"index.mjs","sources":["../lib/normalize_arrays.js","../lib/broadcast_arrays.js","../lib/resolve_dtypes.js","../lib/resolve_shape.js","../lib/resolve_order.js","../lib/base.js","../lib/main.js","../lib/assign.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport ndarraylike2ndarray from '@stdlib/ndarray-base-ndarraylike2ndarray';\nimport format from '@stdlib/error-tools-fmtprodmsg';\n\n\n// MAIN //\n\n/**\n* Normalizes a list of ndarray-like objects.\n*\n* @private\n* @param {Array<ndarrayLike>} arrays - list of input ndarrays\n* @throws {TypeError} first argument must be an array of ndarrays\n* @returns {Array<ndarray>} list of ndarrays\n*/\nfunction normalize( arrays ) {\n\tvar out;\n\tvar i;\n\n\tout = [];\n\tfor ( i = 0; i < arrays.length; i++ ) {\n\t\tif ( !isndarrayLike( arrays[ i ] ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an array of ndarrays. Value: `%s`.', arrays[ i ] ) );\n\t\t}\n\t\tout.push( ndarraylike2ndarray( arrays[ i ] ) );\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default normalize;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport broadcastArrayExceptDimensions from '@stdlib/ndarray-base-broadcast-array-except-dimensions'; // eslint-disable-line id-length\nimport getShape from '@stdlib/ndarray-base-shape';\n\n\n// MAIN //\n\n/**\n* Broadcasts a list of input ndarrays to a common shape.\n*\n* ## Notes\n*\n* -   The function mutates the input array.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of input ndarrays\n* @param {NegativeInteger} dim - dimension along which to concatenate input ndarrays\n* @returns {Array<ndarray>} list of broadcasted ndarrays\n*/\nfunction broadcastArrays( arrays, dim ) {\n\tvar dims;\n\tvar tmp;\n\tvar sh;\n\tvar i;\n\tvar j;\n\n\t// Find the shape of the ndarray with the most dimensions...\n\tsh = getShape( arrays[ 0 ], false );\n\tj = 0;\n\tfor ( i = 1; i < arrays.length; i++ ) {\n\t\ttmp = getShape( arrays[ i ], false );\n\t\tif ( tmp.length > sh.length ) {\n\t\t\tsh = tmp;\n\t\t\tj = i;\n\t\t}\n\t}\n\t// Broadcast ndarrays to the shape with the most dimensions...\n\tdims = [ dim ];\n\tfor ( i = 0; i < arrays.length; i++ ) {\n\t\tif ( i === j ) {\n\t\t\tcontinue;\n\t\t}\n\t\tarrays[ i ] = broadcastArrayExceptDimensions( arrays[ i ], sh, dims );\n\t}\n\treturn arrays;\n}\n\n\n// EXPORTS //\n\nexport default broadcastArrays;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport getDType from '@stdlib/ndarray-base-dtype';\n\n\n// MAIN //\n\n/**\n* Resolves a list of ndarray data types from a list of ndarrays.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of input ndarrays\n* @returns {Array} list of data types\n*/\nfunction resolveDataTypes( arrays ) {\n\tvar out;\n\tvar i;\n\n\tout = [];\n\tfor ( i = 0; i < arrays.length; i++ ) {\n\t\tout.push( getDType( arrays[ i ] ) );\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default resolveDataTypes;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport getShape from '@stdlib/ndarray-base-shape';\n\n\n// MAIN //\n\n/**\n* Resolves the shape of an output ndarray according to a list of input ndarrays.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of input ndarrays\n* @param {integer} dim - dimension along which to concatenate input ndarrays\n* @returns {Array<integer>} shape\n*/\nfunction resolveShape( arrays, dim ) {\n\tvar sh;\n\tvar i;\n\n\t// Resolve the shape of the first ndarray:\n\tsh = getShape( arrays[ 0 ], true );\n\n\t// Expand the concatenation dimension in order to accommodate other input ndarrays...\n\tfor ( i = 1; i < arrays.length; i++ ) {\n\t\tsh[ dim ] += getShape( arrays[ i ], false )[ dim ];\n\t}\n\treturn sh;\n}\n\n\n// EXPORTS //\n\nexport default resolveShape;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport getOrder from '@stdlib/ndarray-base-order';\nimport defaults from '@stdlib/ndarray-defaults';\n\n\n// VARIABLES //\n\nvar DEFAULT_ORDER = defaults.get( 'order' );\n\n\n// MAIN //\n\n/**\n* Resolves the order (i.e. memory layout) of an output ndarray according to a list of input ndarrays.\n*\n* @private\n* @param {Array<ndarray>} arrays - list of input ndarrays\n* @returns {string} order\n*/\nfunction resolveOrder( arrays ) {\n\tvar o;\n\tvar i;\n\n\t// Resolve the order of the first ndarray:\n\to = getOrder( arrays[ 0 ] );\n\n\t// If a subsequent input ndarray has a different order, return the default memory layout...\n\tfor ( i = 1; i < arrays.length; i++ ) {\n\t\tif ( getOrder( arrays[ i ] ) !== o ) {\n\t\t\treturn DEFAULT_ORDER;\n\t\t}\n\t}\n\treturn o;\n}\n\n\n// EXPORTS //\n\nexport default resolveOrder;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport indicesComplement from '@stdlib/array-base-indices-complement';\nimport getShape from '@stdlib/ndarray-base-shape';\nimport getDType from '@stdlib/ndarray-base-dtype';\nimport getOrder from '@stdlib/ndarray-base-order';\nimport getData from '@stdlib/ndarray-base-data-buffer';\nimport ndarray from '@stdlib/ndarray-base-ctor';\nimport assign from '@stdlib/ndarray-base-assign';\nimport nditerStacks from '@stdlib/ndarray-iter-stacks';\n\n\n// MAIN //\n\n/**\n* Concatenates a list of ndarrays along a specified ndarray dimension.\n*\n* @private\n* @param {ArrayLikeObject<ndarrayLike>} arrays - array-like object containing input ndarrays\n* @param {NegativeInteger} dim - dimension along which to concatenate input ndarrays\n* @param {ndarray} out - output ndarray\n* @returns {ndarray} output ndarray\n*/\nfunction concat( arrays, dim, out ) {\n\tvar istacks;\n\tvar ostacks;\n\tvar offset;\n\tvar buf;\n\tvar ord;\n\tvar sh;\n\tvar dt;\n\tvar s;\n\tvar i;\n\tvar v;\n\n\t// Resolve the output ndarray shape:\n\tsh = getShape( out, false );\n\n\t// When concatenating one-dimensional ndarrays, opt for a faster path in which we write to output ndarray segments directly...\n\tif ( sh.length === 1 ) {\n\t\tdt = getDType( out );\n\t\tbuf = getData( out );\n\t\tord = getOrder( out );\n\t\toffset = 0;\n\t\tfor ( i = 0; i < arrays.length; i++ ) {\n\t\t\tsh = getShape( arrays[ i ], false );\n\t\t\tv = new ndarray( dt, buf, sh, [ 1 ], offset, ord );\n\t\t\tassign( [ arrays[ i ], v ] );\n\t\t\toffset += sh[ 0 ];\n\t\t}\n\t\treturn out;\n\t}\n\t// Create iterator for iterating over subarray views within the output ndarray:\n\tostacks = nditerStacks( out, indicesComplement( sh.length, [ dim ] ) );\n\n\t// Assign each input ndarray subarray to a corresponding output subarray view...\n\tfor ( i = 0; i < arrays.length; i++ ) {\n\t\tsh = getShape( arrays[ i ], false );\n\t\tistacks = nditerStacks( arrays[ i ], indicesComplement( sh.length, [ dim ] ) ); // eslint-disable-line max-len\n\t\twhile ( true ) {\n\t\t\ts = istacks.next();\n\t\t\tif ( s.done ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tassign( [ s.value, ostacks.next().value ] );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default concat;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport { isPrimitive as isNegativeInteger } from '@stdlib/assert-is-negative-integer';\nimport isArrayLikeObject from '@stdlib/assert-is-array-like-object';\nimport promoteDataTypes from '@stdlib/ndarray-base-promote-dtypes';\nimport normalizeIndex from '@stdlib/ndarray-base-normalize-index';\nimport ndims from '@stdlib/ndarray-base-ndims';\nimport empty from '@stdlib/ndarray-empty';\nimport join from '@stdlib/array-base-join';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport normalizeArrays from './normalize_arrays.js';\nimport broadcastArrays from './broadcast_arrays.js';\nimport resolveDataTypes from './resolve_dtypes.js';\nimport resolveShape from './resolve_shape.js';\nimport resolveOrder from './resolve_order.js';\nimport base from './base.js';\n\n\n// MAIN //\n\n/**\n* Concatenates a list of ndarrays along a specified ndarray dimension.\n*\n* @param {ArrayLikeObject<ndarrayLike>} arrays - array-like object containing input ndarrays\n* @param {NegativeInteger} [dim] - dimension along which to concatenate input ndarrays\n* @throws {TypeError} first argument must be an array of ndarray-like objects\n* @throws {RangeError} first argument must contain one or more ndarrays\n* @throws {TypeError} second argument must be a negative integer\n* @throws {Error} must provide ndarrays which can be safely cast to a common data type\n* @returns {ndarray} output ndarray\n*\n* @example\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray from '@stdlib/ndarray-ctor';\n*\n* var xbuf = new Float64Array( [ -1.0, 2.0, -3.0, 4.0 ] );\n* var x = new ndarray( 'float64', xbuf, [ 2, 2 ], [ 2, 1 ], 0, 'row-major' );\n*\n* var ybuf = new Float64Array( [ -5.0, 6.0, -7.0, 8.0, -9.0, 10.0 ] );\n* var y = new ndarray( 'float64', ybuf, [ 2, 3 ], [ 3, 1 ], 0, 'row-major' );\n*\n* var out = concat( [ x, y ], -1 );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ [ -1.0, 2.0, -5.0, 6.0, -7.0 ], [ -3.0, 4.0, 8.0, -9.0, 10.0 ] ]\n*/\nfunction concat( arrays, dim ) {\n\tvar arrs;\n\tvar out;\n\tvar dt;\n\tvar d;\n\n\tif ( !isArrayLikeObject( arrays ) || arrays.length < 1 ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an array of ndarrays. Value: `%s`.', arrays ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isNegativeInteger( dim ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a negative integer. Value: `%s`.', dim ) );\n\t\t}\n\t} else {\n\t\tdim = -1;\n\t}\n\t// Normalize the list of input ndarrays:\n\tarrs = normalizeArrays( arrays );\n\n\t// Broadcast the input ndarrays to a common shape:\n\tarrs = broadcastArrays( arrs, dim );\n\n\t// Resolve the data type of the output ndarray by applying type promotion rules to the data types of the input ndarrays:\n\tdt = promoteDataTypes( resolveDataTypes( arrs ) );\n\tif ( dt === null ) {\n\t\tthrow new Error( format( 'invalid argument. Unable to apply type promotion rules when resolving a data type to which the input ndarrays can be safely cast. Data types: [%s].', join( resolveDataTypes( arrs ), ', ' ) ) );\n\t}\n\t// Normalize the dimension index:\n\td = normalizeIndex( dim, ndims( arrs[ 0 ] )-1 );\n\n\t// Create an output ndarray:\n\tout = empty( resolveShape( arrs, d ), {\n\t\t'dtype': dt,\n\t\t'order': resolveOrder( arrs )\n\t});\n\n\t// Perform concatenation:\n\treturn base( arrs, d, out );\n}\n\n\n// EXPORTS //\n\nexport default concat;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport hasEqualValuesIndexed from '@stdlib/array-base-assert-has-equal-values-indexed';\nimport isMostlySafeCast from '@stdlib/ndarray-base-assert-is-mostly-safe-data-type-cast';\nimport { isPrimitive as isNegativeInteger } from '@stdlib/assert-is-negative-integer';\nimport isArrayLikeObject from '@stdlib/assert-is-array-like-object';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport promoteDataTypes from '@stdlib/ndarray-base-promote-dtypes';\nimport normalizeIndex from '@stdlib/ndarray-base-normalize-index';\nimport ndarraylike2ndarray from '@stdlib/ndarray-base-ndarraylike2ndarray';\nimport getShape from '@stdlib/ndarray-base-shape';\nimport getDType from '@stdlib/ndarray-base-dtype';\nimport ndims from '@stdlib/ndarray-base-ndims';\nimport join from '@stdlib/array-base-join';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport normalizeArrays from './normalize_arrays.js';\nimport broadcastArrays from './broadcast_arrays.js';\nimport resolveDataTypes from './resolve_dtypes.js';\nimport resolveShape from './resolve_shape.js';\nimport base from './base.js';\n\n\n// MAIN //\n\n/**\n* Concatenates a list of ndarrays along a specified ndarray dimension and assigns results to a provided output ndarray.\n*\n* @param {ArrayLikeObject<ndarrayLike>} arrays - array-like object containing input ndarrays\n* @param {ndarrayLike} out - output ndarray\n* @param {NegativeInteger} [dim] - dimension along which to concatenate input ndarrays\n* @throws {TypeError} first argument must be an array of ndarray-like objects\n* @throws {RangeError} first argument must contain one or more ndarrays\n* @throws {TypeError} second argument must be an ndarray-like object\n* @throws {TypeError} third argument must be a negative integer\n* @throws {Error} must provide ndarrays which can be safely cast to a common data type\n* @returns {ndarrayLike} output ndarray\n*\n* @example\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray from '@stdlib/ndarray-ctor';\n*\n* var xbuf = new Float64Array( [ -1.0, 2.0, -3.0, 4.0 ] );\n* var x = new ndarray( 'float64', xbuf, [ 2, 2 ], [ 2, 1 ], 0, 'row-major' );\n*\n* var ybuf = new Float64Array( [ -5.0, 6.0, -7.0, 8.0, -9.0, 10.0 ] );\n* var y = new ndarray( 'float64', ybuf, [ 2, 3 ], [ 3, 1 ], 0, 'row-major' );\n*\n* var z = new ndarray( 'float64', new Float64Array( 10 ), [ 2, 5 ], [ 5, 1 ], 0, 'row-major' );\n*\n* var out = assign( [ x, y ], z, -1 );\n* // returns <ndarray>\n*\n* var bool = ( out === z );\n* // returns true\n*\n* var arr = ndarray2array( z );\n* // returns [ [ -1.0, 2.0, -5.0, 6.0, -7.0 ], [ -3.0, 4.0, 8.0, -9.0, 10.0 ] ]\n*/\nfunction assign( arrays, out, dim ) {\n\tvar arrs;\n\tvar view;\n\tvar osh;\n\tvar sh;\n\tvar dt;\n\tvar d;\n\n\tif ( !isArrayLikeObject( arrays ) || arrays.length < 1 ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an array of ndarrays. Value: `%s`.', arrays ) );\n\t}\n\tif ( !isndarrayLike( out ) ) {\n\t\tthrow new TypeError( format( 'nullF1', out ) );\n\t}\n\tif ( arguments.length > 2 ) {\n\t\tif ( !isNegativeInteger( dim ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be a negative integer. Value: `%s`.', dim ) );\n\t\t}\n\t} else {\n\t\tdim = -1;\n\t}\n\t// Normalize the list of input ndarrays:\n\tarrs = normalizeArrays( arrays );\n\n\t// Normalize the output ndarray:\n\tview = ndarraylike2ndarray( out );\n\n\t// Broadcast the input ndarrays to a common shape:\n\tarrs = broadcastArrays( arrs, dim );\n\n\t// Apply type promotion rules to the data types of the input ndarrays:\n\tdt = promoteDataTypes( resolveDataTypes( arrs ) );\n\tif ( dt === null ) {\n\t\tthrow new Error( format( 'invalid argument. Unable to apply type promotion rules when resolving a data type to which the input ndarrays can be safely cast. Data types: [%s].', join( resolveDataTypes( arrs ), ', ' ) ) );\n\t}\n\t// Verify that the data types of the input ndarrays can be safely cast to the data type of the output ndarray:\n\tif ( !isMostlySafeCast( dt, getDType( view ) ) ) {\n\t\tthrow new Error( format( 'invalid argument. The list of input ndarrays cannot be safely cast to the data of the output ndarray. Input data types: [%s]. Output data type: %s.', join( resolveDataTypes( arrs ), ', ' ), getDType( view ) ) );\n\t}\n\t// Normalize the dimension index:\n\td = normalizeIndex( dim, ndims( arrs[ 0 ] )-1 );\n\n\t// Resolve the expected shape of the output ndarray:\n\tsh = resolveShape( arrs, d );\n\n\t// Resolve the actual shape of the output ndarray:\n\tosh = getShape( view, false );\n\n\t// Verify that the expected and actual shapes are equal:\n\tif ( !hasEqualValuesIndexed( osh, sh ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument is not broadcast compatible with the list of input ndarrays. Array shape: (%s). Desired shape: (%s).', join( osh, ', ' ), join( sh, ', ' ) ) );\n\t}\n\t// Perform concatenation:\n\tbase( arrs, d, out );\n\n\treturn out;\n}\n\n\n// EXPORTS //\n\nexport default assign;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2025 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Concatenate a list of ndarrays along a specified ndarray dimension.\n*\n* @module @stdlib/ndarray-concat\n*\n* @example\n* import Float64Array from '@stdlib/array-float64';\n* import ndarray2array from '@stdlib/ndarray-to-array';\n* import ndarray from '@stdlib/ndarray-ctor';\n* import concat from '@stdlib/ndarray-concat';\n*\n* var xbuf = new Float64Array( [ -1.0, 2.0, -3.0, 4.0 ] );\n* var x = new ndarray( 'float64', xbuf, [ 2, 2 ], [ 2, 1 ], 0, 'row-major' );\n*\n* var ybuf = new Float64Array( [ -5.0, 6.0, -7.0, 8.0, -9.0, 10.0 ] );\n* var y = new ndarray( 'float64', ybuf, [ 2, 3 ], [ 3, 1 ], 0, 'row-major' );\n*\n* var out = concat( [ x, y ], -1 );\n* // returns <ndarray>\n*\n* var arr = ndarray2array( out );\n* // returns [ [ -1.0, 2.0, -5.0, 6.0, -7.0 ], [ -3.0, 4.0, 8.0, -9.0, 10.0 ] ]\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport main from './main.js';\nimport assign from './assign.js';\n\n\n// MAIN //\n\nsetReadOnly( main, 'assign', assign );\n\n\n// EXPORTS //\n\nexport default main;\n\n// exports: { \"assign\": \"main.assign\" }\n"],"names":["normalize","arrays","out","i","length","isndarrayLike","TypeError","format","push","ndarraylike2ndarray","broadcastArrays","dim","dims","tmp","sh","j","getShape","broadcastArrayExceptDimensions","resolveDataTypes","getDType","resolveShape","DEFAULT_ORDER","defaults","get","resolveOrder","o","getOrder","concat","istacks","ostacks","offset","buf","ord","dt","s","v","getData","ndarray","assign","nditerStacks","indicesComplement","next","done","value","arrs","d","isArrayLikeObject","arguments","isNegativeInteger","normalizeArrays","promoteDataTypes","Error","join","base","normalizeIndex","ndims","empty","dtype","order","view","osh","isMostlySafeCast","hasEqualValuesIndexed","setReadOnly","main"],"mappings":";;gvEAqCA,SAASA,EAAWC,GACnB,IAAIC,EACAC,EAGJ,IADAD,EAAM,GACAC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAAM,CACrC,IAAME,EAAeJ,EAAQE,IAC5B,MAAM,IAAIG,UAAWC,EAAQ,8EAA+EN,EAAQE,KAErHD,EAAIM,KAAMC,EAAqBR,EAAQE,IACvC,CACD,OAAOD,CACR,CCTA,SAASQ,EAAiBT,EAAQU,GACjC,IAAIC,EACAC,EACAC,EACAX,EACAY,EAKJ,IAFAD,EAAKE,EAAUf,EAAQ,IAAK,GAC5Bc,EAAI,EACEZ,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,KAC/BU,EAAMG,EAAUf,EAAQE,IAAK,IACpBC,OAASU,EAAGV,SACpBU,EAAKD,EACLE,EAAIZ,GAKN,IADAS,EAAO,CAAED,GACHR,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAC1BA,IAAMY,IAGXd,EAAQE,GAAMc,EAAgChB,EAAQE,GAAKW,EAAIF,IAEhE,OAAOX,CACR,CChCA,SAASiB,EAAkBjB,GAC1B,IAAIC,EACAC,EAGJ,IADAD,EAAM,GACAC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAC/BD,EAAIM,KAAMW,EAAUlB,EAAQE,KAE7B,OAAOD,CACR,CCRA,SAASkB,EAAcnB,EAAQU,GAC9B,IAAIG,EACAX,EAMJ,IAHAW,EAAKE,EAAUf,EAAQ,IAAK,GAGtBE,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAC/BW,EAAIH,IAASK,EAAUf,EAAQE,IAAK,GAASQ,GAE9C,OAAOG,CACR,CCnBA,IAAIO,EAAgBC,EAASC,IAAK,SAYlC,SAASC,EAAcvB,GACtB,IAAIwB,EACAtB,EAMJ,IAHAsB,EAAIC,EAAUzB,EAAQ,IAGhBE,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAC/B,GAAKuB,EAAUzB,EAAQE,MAAUsB,EAChC,OAAOJ,EAGT,OAAOI,CACR,CCXA,SAASE,EAAQ1B,EAAQU,EAAKT,GAC7B,IAAI0B,EACAC,EACAC,EACAC,EACAC,EACAlB,EACAmB,EACAC,EACA/B,EACAgC,EAMJ,GAAmB,KAHnBrB,EAAKE,EAAUd,GAAK,IAGZE,OAAe,CAKtB,IAJA6B,EAAKd,EAAUjB,GACf6B,EAAMK,EAASlC,GACf8B,EAAMN,EAAUxB,GAChB4B,EAAS,EACH3B,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAC/BW,EAAKE,EAAUf,EAAQE,IAAK,GAC5BgC,EAAI,IAAIE,EAASJ,EAAIF,EAAKjB,EAAI,CAAE,GAAKgB,EAAQE,GAC7CM,EAAQ,CAAErC,EAAQE,GAAKgC,IACvBL,GAAUhB,EAAI,GAEf,OAAOZ,CACP,CAKD,IAHA2B,EAAUU,EAAcrC,EAAKsC,EAAmB1B,EAAGV,OAAQ,CAAEO,KAGvDR,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IAG/B,IAFAW,EAAKE,EAAUf,EAAQE,IAAK,GAC5ByB,EAAUW,EAActC,EAAQE,GAAKqC,EAAmB1B,EAAGV,OAAQ,CAAEO,OAEpEuB,EAAIN,EAAQa,QACLC,MAGPJ,EAAQ,CAAEJ,EAAES,MAAOd,EAAQY,OAAOE,QAGpC,OAAOzC,CACR,CCpBA,SAASyB,EAAQ1B,EAAQU,GACxB,IAAIiC,EAEAX,EACAY,EAEJ,IAAMC,EAAmB7C,IAAYA,EAAOG,OAAS,EACpD,MAAM,IAAIE,UAAWC,EAAQ,8EAA+EN,IAE7G,GAAK8C,UAAU3C,OAAS,GACvB,IAAM4C,EAAmBrC,GACxB,MAAM,IAAIL,UAAWC,EAAQ,6EAA8EI,SAG5GA,GAAO,EAUR,GAJAiC,EAAOlC,EAHPkC,EAAOK,EAAiBhD,GAGMU,GAIlB,QADZsB,EAAKiB,EAAkBhC,EAAkB0B,KAExC,MAAM,IAAIO,MAAO5C,EAAQ,sJAAuJ6C,EAAMlC,EAAkB0B,GAAQ,QAYjN,OAAOS,EAAMT,EATbC,EAAIS,EAAgB3C,EAAK4C,EAAOX,EAAM,IAAM,GAGtCY,EAAOpC,EAAcwB,EAAMC,GAAK,CACrCY,MAASxB,EACTyB,MAASlC,EAAcoB,KAKzB,CC3BA,SAASN,EAAQrC,EAAQC,EAAKS,GAC7B,IAAIiC,EACAe,EACAC,EACA9C,EACAmB,EACAY,EAEJ,IAAMC,EAAmB7C,IAAYA,EAAOG,OAAS,EACpD,MAAM,IAAIE,UAAWC,EAAQ,8EAA+EN,IAE7G,IAAMI,EAAeH,GACpB,MAAM,IAAII,UAAWC,EAAQ,SAAUL,IAExC,GAAK6C,UAAU3C,OAAS,GACvB,IAAM4C,EAAmBrC,GACxB,MAAM,IAAIL,UAAWC,EAAQ,4EAA6EI,SAG3GA,GAAO,EAaR,GAVAiC,EAAOK,EAAiBhD,GAGxB0D,EAAOlD,EAAqBP,GAG5B0C,EAAOlC,EAAiBkC,EAAMjC,GAIlB,QADZsB,EAAKiB,EAAkBhC,EAAkB0B,KAExC,MAAM,IAAIO,MAAO5C,EAAQ,sJAAuJ6C,EAAMlC,EAAkB0B,GAAQ,QAGjN,IAAMiB,EAAkB5B,EAAId,EAAUwC,IACrC,MAAM,IAAIR,MAAO5C,EAAQ,sJAAuJ6C,EAAMlC,EAAkB0B,GAAQ,MAAQzB,EAAUwC,KAYnO,GANA7C,EAAKM,EAAcwB,EAHnBC,EAAIS,EAAgB3C,EAAK4C,EAAOX,EAAM,IAAM,IAM5CgB,EAAM5C,EAAU2C,GAAM,IAGhBG,EAAuBF,EAAK9C,GACjC,MAAM,IAAIR,UAAWC,EAAQ,yIAA0I6C,EAAMQ,EAAK,MAAQR,EAAMtC,EAAI,QAKrM,OAFAuC,EAAMT,EAAMC,EAAG3C,GAERA,CACR,CClFA6D,EAAAC,EAAA,SAAA1B"}